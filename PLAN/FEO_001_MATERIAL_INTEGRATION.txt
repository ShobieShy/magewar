================================================================================
FUTURE ENHANCEMENT OPPORTUNITY #1: MATERIAL DROP INTEGRATION
================================================================================

Current State:
- MaterialDropSystem exists but is not integrated with enemy drops
- Enemies only drop items from loot_table
- No crafting materials drop from enemy kills
- Material system is complete but unused

Opportunity:
Integrate material drops into enemy loot system so enemies drop crafting
materials in addition to (or instead of) equipment items. This provides:
- Additional loot variety
- Supports crafting progression
- Creates material farming gameplay
- Scales with enemy level/rarity

================================================================================
DETAILED TODO LIST
================================================================================

[ ] Phase 1: ANALYZE MATERIAL SYSTEM
    [ ] Review MaterialDropSystem implementation
        [ ] Study drop_chances_by_rarity
        [ ] Review material_type_weights
        [ ] Understand tier assignment logic
    [ ] Review existing material items
        [ ] Check resources/items/materials/ directory
        [ ] Document available materials by type
        [ ] Check material tiers (BASIC to UNIQUE)
    [ ] Understand crafting system integration
        [ ] How are materials used in crafting?
        [ ] What materials are most needed?
        [ ] Progression requirements

[ ] Phase 2: DESIGN MATERIAL DROP INTEGRATION
    [ ] Decide drop strategy
        [ ] Materials in addition to items? (both)
        [ ] Materials instead of items? (choice per enemy)
        [ ] Configurable per enemy type?
    [ ] Design material drop frequency
        [ ] Every kill drops materials?
        [ ] Percentage chance per kill?
        [ ] Scale with enemy rarity?
    [ ] Determine material quantities
        [ ] 1-2 per kill?
        [ ] Scale with enemy type?
        [ ] Rarity correlation?

[ ] Phase 3: SCALING & BALANCE DESIGN
    [ ] Material drop scaling with enemy level
        [ ] Level 1 enemy → Tier 1 materials
        [ ] Level 50 enemy → Tier 5 materials
        [ ] Scaling function definition
    [ ] Rarity correlation
        [ ] BASIC enemy → low tier materials
        [ ] BOSS enemy → high tier materials
        [ ] Rare drops from rare enemies
    [ ] Farm-proof balance
        [ ] Materials valuable enough to farm?
        [ ] Not so valuable it breaks progression?
        [ ] Crafting cost adjustment needed?

[ ] Phase 4: IMPLEMENTATION DESIGN
    [ ] Modify _drop_loot() in EnemyBase
        [ ] Add material drop chance
        [ ] Call MaterialDropSystem.generate_enemy_drops()
        [ ] Combine with existing loot
    [ ] Create LootPickup variants
        [ ] Reuse existing LootPickup for materials?
        [ ] Or create MaterialPickup subclass?
        [ ] Visual distinction for materials?
    [ ] Update LootSystem
        [ ] Handle material drops separately?
        [ ] Or integrate into existing flow?

[ ] Phase 5: VISUAL & UX DESIGN
    [ ] Material item visual appearance
        [ ] Distinct from equipment items?
        [ ] Color coding by material type? (ore, essence, shard)
        [ ] Icon design for each material
    [ ] UI display in inventory
        [ ] Separate materials tab?
        [ ] Stacking/grouping materials?
        [ ] Material value display?
    [ ] Loot messages for players
        [ ] "Looted 3 Ore Fragments"
        [ ] Different message for materials?
        [ ] Rarity indication in message?

[ ] Phase 6: CONFIGURATION & DATA
    [ ] Add enemy data fields
        [ ] material_drop_chance (0-1.0)
        [ ] material_drop_count (min/max)
        [ ] Preferred material types?
    [ ] Update all 5 enemy types
        [ ] Skeleton: bone materials?
        [ ] Goblin: metal/ore?
        [ ] Slime: essence?
        [ ] Troll: stone/earth?
        [ ] Wraith: shadow/dark?
    [ ] Create material loot tables
        [ ] By enemy type
        [ ] By enemy level
        [ ] By enemy rarity

[ ] Phase 7: NETWORKING (MULTIPLAYER)
    [ ] Determine material drop sharing
        [ ] All players get materials?
        [ ] Only killer gets materials?
        [ ] Shared/distributed among party?
    [ ] RPC messages for material drops
        [ ] Efficient network updates
        [ ] Authority model (server vs client)
    [ ] Multiplayer testing
        [ ] Co-op material drops
        [ ] Fair distribution

[ ] Phase 8: IMPLEMENTATION
    [ ] Modify EnemyBase._drop_loot()
        [ ] Add material drop logic
        [ ] Integrate with existing loot
    [ ] Update MaterialDropSystem if needed
        [ ] Ensure it works with enemies
        [ ] Add logging/debugging
    [ ] Create material configurations
        [ ] Per-enemy material drops
        [ ] Scaling by level/rarity
    [ ] Update LootSystem if needed
        [ ] Handle material drops
        [ ] Proper spawning/positioning

[ ] Phase 9: TESTING & BALANCING
    [ ] Test basic material drops
        [ ] Verify drops occur
        [ ] Check material types correct
        [ ] Verify quantities correct
    [ ] Balance testing
        [ ] Material drop rates reasonable?
        [ ] Player farming viable?
        [ ] Progression impact assessment
    [ ] Stress testing
        [ ] 50 enemies = reasonable materials?
        [ ] No performance issues?
    [ ] Multiplayer testing
        [ ] Fair distribution
        [ ] No exploits possible

[ ] Phase 10: DOCUMENTATION & CONFIGURATION
    [ ] Document material drop tables
    [ ] Add configuration comments in code
    [ ] Update gameplay documentation
    [ ] Create material farming guide (optional)

================================================================================
QUESTIONS FOR PLANNING
================================================================================

Q: Should materials drop in addition to or instead of items?
   - Addition: More loot but more crowded
   - Instead: Less clutter, specific farm opportunities
   - Recommendation: Addition (more varied loot)

Q: What's the intended crafting material economy?
   - Progression pacing?
   - Farming time requirements?
   - Rarity/quality correlation?

Q: Should material drops vary by enemy type?
   - Skeleton → bone materials?
   - Thematic vs random?
   - Recommendation: Thematic (better gameplay)

Q: Material drop frequency?
   - Every kill?
   - 50% chance per kill?
   - Scales with enemy difficulty?
   - Recommendation: Per-rarity scaling

Q: Should rare materials come from rare enemies?
   - BOSS enemy → rare materials?
   - Risk/reward balance?
   - Farming incentive?

================================================================================
IMPLEMENTATION PREFERENCES
================================================================================

RECOMMENDED APPROACH:
1. Add to existing drops (not replacement)
2. Scale with enemy level + rarity
3. Thematic materials per enemy type
4. Configurable via enemy data

ESTIMATED EFFORT:
- Analysis: 1-2 hours
- Design: 2-3 hours
- Implementation: 4-6 hours
- Testing/Balance: 3-4 hours
- Total: 10-15 hours

ESTIMATED GAMEPLAY IMPACT:
- High: Adds significant progression path
- Crafting becomes more viable
- Farming becomes viable strategy
- More player agency in progression

================================================================================
DEPENDENCIES
================================================================================

Requires:
- MaterialDropSystem (exists, needs integration)
- Material item resources (already created)
- Crafting system (for context)
- Enemy data system

Related Systems:
- Crafting system
- Inventory system
- Item database
- Enemy configuration

================================================================================
IMPLEMENTATION ORDER
================================================================================

1. Modify MaterialDropSystem if needed
2. Update EnemyBase to call material drops
3. Configure per-enemy material drops
4. Test basic functionality
5. Balance drop rates
6. Add multiplayer support
7. Polish and optimize

================================================================================
SUCCESS CRITERIA
================================================================================

[ ] Enemies drop materials on death
[ ] Material types themed to enemy
[ ] Drop rates balanced with progression
[ ] Works in single-player
[ ] Works in multiplayer (if applicable)
[ ] Inventory handles materials correctly
[ ] Performance not affected
[ ] Documentation complete

================================================================================
FUTURE ENHANCEMENTS
================================================================================

After material integration:
- Material drop event system (player notifications)
- Material farming quests
- Rare material guaranteed drops from bosses
- Material transmutation system
- Market/trading for materials (multiplayer)

================================================================================
